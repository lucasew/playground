
started {'initialize': <function initialize at 0x7f52e7106660>, '$/cancelRequest': <function cancel_request at 0x7f52e7106700>, 'textDocument/hover': <function on_hover at 0x7f52e71067a0>}
started {'initialize': <function initialize at 0x7f232c106660>, '$/cancelRequest': <function cancel_request at 0x7f232c106700>, 'textDocument/hover': <function on_hover at 0x7f232c1067a0>}
started {'initialize': <function initialize at 0x7fd399812660>, '$/cancelRequest': <function cancel_request at 0x7fd399812700>, 'textDocument/hover': <function on_hover at 0x7fd3998127a0>}
started {'initialize': <function initialize at 0x7ff778816660>, '$/cancelRequest': <function cancel_request at 0x7ff778816700>, 'textDocument/hover': <function on_hover at 0x7ff7788167a0>}
started {'initialize': <function initialize at 0x7f7dfbb0a660>, '$/cancelRequest': <function cancel_request at 0x7f7dfbb0a700>, 'textDocument/hover': <function on_hover at 0x7f7dfbb0a7a0>}
started {'initialize': <function initialize at 0x7f96c6212660>, '$/cancelRequest': <function cancel_request at 0x7f96c6212700>, 'textDocument/hover': <function on_hover at 0x7f96c62127a0>}
started {'initialize': <function initialize at 0x7f9d9eb06660>, '$/cancelRequest': <function cancel_request at 0x7f9d9eb06700>, 'textDocument/hover': <function on_hover at 0x7f9d9eb067a0>}
started {'initialize': <function initialize at 0x7f89e1306660>, '$/cancelRequest': <function cancel_request at 0x7f89e1306700>, 'textDocument/hover': <function on_hover at 0x7f89e13067a0>}
Traceback (most recent call last):
  File "/home/lucasew/WORKSPACE/PLAYGROUND/lsp/test/./teste-lsp.py", line 186, in <module>
    asyncio.run(main())
  File "/nix/store/7hnr99nxrd2aw6lghybqdmkckq60j6l9-python3-3.11.9/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/nix/store/7hnr99nxrd2aw6lghybqdmkckq60j6l9-python3-3.11.9/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/nix/store/7hnr99nxrd2aw6lghybqdmkckq60j6l9-python3-3.11.9/lib/python3.11/asyncio/base_events.py", line 641, in run_until_complete
    self.run_forever()
  File "/nix/store/7hnr99nxrd2aw6lghybqdmkckq60j6l9-python3-3.11.9/lib/python3.11/asyncio/base_events.py", line 608, in run_forever
    self._run_once()
  File "/nix/store/7hnr99nxrd2aw6lghybqdmkckq60j6l9-python3-3.11.9/lib/python3.11/asyncio/base_events.py", line 1936, in _run_once
    handle._run()
  File "/nix/store/7hnr99nxrd2aw6lghybqdmkckq60j6l9-python3-3.11.9/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "/home/lucasew/WORKSPACE/PLAYGROUND/lsp/test/./teste-lsp.py", line 175, in main
    while True:
  File "/nix/store/7hnr99nxrd2aw6lghybqdmkckq60j6l9-python3-3.11.9/lib/python3.11/asyncio/runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt
started {'initialize': <function initialize at 0x7ffa49306660>, '$/cancelRequest': <function cancel_request at 0x7ffa49306700>, 'textDocument/hover': <function on_hover at 0x7ffa493067a0>}
started {'initialize': <function initialize at 0x7f6162d06660>, '$/cancelRequest': <function cancel_request at 0x7f6162d06700>, 'textDocument/hover': <function on_hover at 0x7f6162d067a0>}
started {'initialize': <function initialize at 0x7f5552ec2660>, '$/cancelRequest': <function cancel_request at 0x7f5552ec2700>, 'textDocument/hover': <function on_hover at 0x7f5552ec27a0>}
Traceback (most recent call last):
  File "/nix/store/7hnr99nxrd2aw6lghybqdmkckq60j6l9-python3-3.11.9/lib/python3.11/json/decoder.py", line 353, in raw_decode
    obj, end = self.scan_once(s, idx)
               ^^^^^^^^^^^^^^^^^^^^^^
StopIteration: 0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/lucasew/WORKSPACE/PLAYGROUND/lsp/test/./teste-lsp.py", line 185, in <module>
    asyncio.run(main())
  File "/nix/store/7hnr99nxrd2aw6lghybqdmkckq60j6l9-python3-3.11.9/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/nix/store/7hnr99nxrd2aw6lghybqdmkckq60j6l9-python3-3.11.9/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/nix/store/7hnr99nxrd2aw6lghybqdmkckq60j6l9-python3-3.11.9/lib/python3.11/asyncio/base_events.py", line 641, in run_until_complete
    self.run_forever()
  File "/nix/store/7hnr99nxrd2aw6lghybqdmkckq60j6l9-python3-3.11.9/lib/python3.11/asyncio/base_events.py", line 608, in run_forever
    self._run_once()
  File "/nix/store/7hnr99nxrd2aw6lghybqdmkckq60j6l9-python3-3.11.9/lib/python3.11/asyncio/base_events.py", line 1936, in _run_once
    handle._run()
  File "/nix/store/7hnr99nxrd2aw6lghybqdmkckq60j6l9-python3-3.11.9/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "/home/lucasew/WORKSPACE/PLAYGROUND/lsp/test/./teste-lsp.py", line 37, in read_stdin_queue_lines
    if is_json_valid(buf.decode('utf-8')):
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lucasew/WORKSPACE/PLAYGROUND/lsp/test/./teste-lsp.py", line 165, in is_json_valid
    json.loads(data)
  File "/nix/store/7hnr99nxrd2aw6lghybqdmkckq60j6l9-python3-3.11.9/lib/python3.11/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/nix/store/7hnr99nxrd2aw6lghybqdmkckq60j6l9-python3-3.11.9/lib/python3.11/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/nix/store/7hnr99nxrd2aw6lghybqdmkckq60j6l9-python3-3.11.9/lib/python3.11/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/nix/store/7hnr99nxrd2aw6lghybqdmkckq60j6l9-python3-3.11.9/lib/python3.11/json/decoder.py", line 35, in __init__
    ValueError.__init__(self, errmsg)
  File "/nix/store/7hnr99nxrd2aw6lghybqdmkckq60j6l9-python3-3.11.9/lib/python3.11/asyncio/runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt
started {'initialize': <function initialize at 0x7f5b6bb06660>, '$/cancelRequest': <function cancel_request at 0x7f5b6bb06700>, 'textDocument/hover': <function on_hover at 0x7f5b6bb067a0>}
started {'initialize': <function initialize at 0x7fcaf0306660>, '$/cancelRequest': <function cancel_request at 0x7fcaf0306700>, 'textDocument/hover': <function on_hover at 0x7fcaf03067a0>}
Traceback (most recent call last):
  File "/home/lucasew/WORKSPACE/PLAYGROUND/lsp/test/./teste-lsp.py", line 185, in <module>
    asyncio.run(main())
  File "/nix/store/7hnr99nxrd2aw6lghybqdmkckq60j6l9-python3-3.11.9/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/nix/store/7hnr99nxrd2aw6lghybqdmkckq60j6l9-python3-3.11.9/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/nix/store/7hnr99nxrd2aw6lghybqdmkckq60j6l9-python3-3.11.9/lib/python3.11/asyncio/base_events.py", line 641, in run_until_complete
    self.run_forever()
  File "/nix/store/7hnr99nxrd2aw6lghybqdmkckq60j6l9-python3-3.11.9/lib/python3.11/asyncio/base_events.py", line 608, in run_forever
    self._run_once()
  File "/nix/store/7hnr99nxrd2aw6lghybqdmkckq60j6l9-python3-3.11.9/lib/python3.11/asyncio/base_events.py", line 1936, in _run_once
    handle._run()
  File "/nix/store/7hnr99nxrd2aw6lghybqdmkckq60j6l9-python3-3.11.9/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "/home/lucasew/WORKSPACE/PLAYGROUND/lsp/test/./teste-lsp.py", line 37, in read_stdin_queue_lines
    if is_json_valid(buf.decode('utf-8')):
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lucasew/WORKSPACE/PLAYGROUND/lsp/test/./teste-lsp.py", line 165, in is_json_valid
    json.loads(data)
  File "/nix/store/7hnr99nxrd2aw6lghybqdmkckq60j6l9-python3-3.11.9/lib/python3.11/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/nix/store/7hnr99nxrd2aw6lghybqdmkckq60j6l9-python3-3.11.9/lib/python3.11/json/decoder.py", line 332, in decode
    def decode(self, s, _w=WHITESPACE.match):

  File "/nix/store/7hnr99nxrd2aw6lghybqdmkckq60j6l9-python3-3.11.9/lib/python3.11/asyncio/runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt
started {'initialize': <function initialize at 0x7f848c906660>, '$/cancelRequest': <function cancel_request at 0x7f848c906700>, 'textDocument/hover': <function on_hover at 0x7f848c9067a0>}
